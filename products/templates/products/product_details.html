{% extends "products/base.html" %}
{% load static %}
{% load humanize %}

{% block title %}{{ product.name }} | Market Blend{% endblock %}

{% block content %}

<div class="container my-5">
    <div class="row">

        <!-- LEFT: Product Image -->
        <div class="col-lg-6 text-center">
            <img src="{{ product.image.url }}" 
                 alt="{{ product.name }}"
                 class="img-fluid shadow-sm"
                 style="max-height:450px; object-fit:contain;">
        </div>

        <!-- RIGHT: Product Info -->
        <div class="col-lg-6">
            <h2 class="fw-bold">{{ product.name }}</h2>

            <h4 class="text-success mt-2">
                UGX {{ product.price|intcomma }}.00
            </h4>

            <p class="mt-3">{{ product.description }}</p>

            <p><strong>Category:</strong> {{ product.category.name }}</p>

            <p>
                <strong>Available:</strong>
                {% if product.available %}
                    <span class="text-success">In Stock</span>
                {% else %}
                    <span class="text-danger">Out of Stock</span>
                {% endif %}
            </p>

            <div class="d-flex gap-3 mt-4">

                <!-- Add to cart -->
                <form action="{% url 'cart:add_to_cart' product.id %}" method="POST">
                    {% csrf_token %}
                    <button class="btn btn-success px-4">Add to Cart</button>
                </form>

                <!-- Back to shop -->
                <a href="{% url 'shop' %}" class="btn btn-secondary px-4">Back to Shop</a>

            </div>
        </div>

    </div>
</div>

{% endblock %}
