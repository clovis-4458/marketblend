{% extends "products/base.html" %}
{% load static %}
{% load humanize %}

{% block title %}Shop - Market Blend{% endblock %}

{% block extra_css %}
<style>
    /* Style the top-right auth links */
    .header__top__right__auth a {
        color: #00A651 !important; /* green color */
        font-weight: 700 !important; /* bold */
        text-decoration: none !important;
        margin-left: 10px;
    }

    .header__top__right__auth a:hover {
        color: #007A3D !important; /* darker green on hover */
        text-decoration: underline !important;
    }

    /* Align auth links to the right */
    .header__top__right__auth {
        float: right;
    }
</style>
{% endblock %}

{% block content %}
<div class="container my-5">
    <h2 class="section-title mb-4 text-center">Featured Products</h2>

    <div class="row">
        {% for product in featured_products %}
        <div class="col-lg-3 col-md-4 col-sm-6 mb-4">
            <div class="featured__item">
                <div class="featured__item__pic set-bg"
                     data-setbg="{% if product.image %}{{ product.image.url }}{% else %}{% static 'img/no-image.png' %}{% endif %}">
                    <ul class="featured__item__pic__hover">
                        <li><a href="#"><i class="fa fa-shopping-cart"></i></a></li>
                    </ul>
                </div>
                <div class="featured__item__text text-center">
                    <h6><a href="#">{{ product.name }}</a></h6>
                    <h5>UGX {{ product.price|intcomma }}</h5>
                </div>
            </div>
        </div>
        {% empty %}
        <p class="text-center">No products available.</p>
        {% endfor %}
    </div>
</div>


<div class="container my-5">
    <h2 class="section-title mb-4 text-center">Shop Products</h2>

    <div class="row">
        {% for product in products %}
        <div class="col-lg-3 col-md-4 col-sm-6 mb-4">
            <div class="featured__item">
                <div class="featured__item__pic set-bg"
                     data-setbg="{% if product.image %}{{ product.image.url }}{% else %}{% static 'img/no-image.png' %}{% endif %}">
                    <ul class="featured__item__pic__hover">
                        <li><a href="#"><i class="fa fa-shopping-cart"></i></a></li>
                    </ul>
                </div>
                <div class="featured__item__text text-center">
                    <h6><a href="#">{{ product.name }}</a></h6>
                    <h5>UGX {{ product.price|intcomma }}</h5>
                </div>
            </div>
        </div>
        {% empty %}
        <p class="text-center">No products available.</p>
        {% endfor %}
    </div>
</div>

<script>
    // ðŸ”„ Automatically set background images
    $('.set-bg').each(function () {
        var bg = $(this).data('setbg');
        $(this).css('background-image', 'url(' + bg + ')');
    });
</script>
{% endblock %}
